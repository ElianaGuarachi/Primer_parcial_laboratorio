/*
 ============================================================================
 Name        : Parcial_laboratorio1.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include "Informes.h"

#define CANT_CLIENTES 5
#define CANT_PEDIDOS 10

int main(void) {

	setbuf(stdout, NULL);
	eClientes clientes[CANT_CLIENTES];
	ePedidos pedidos[CANT_PEDIDOS];
	int opcion;
	int idClientes;
	int idPedidos;
	idClientes=0;
	idPedidos=0;

	if(InicilizarClientes(clientes, CANT_CLIENTES) == -1 &&
			InicializarListaDePedidos(pedidos, CANT_PEDIDOS)==-1)
	{
		printf("\nNo se inicializaron las lista");
	}


	printf("== EMPRESA DE RECOLECCION Y RECICLADO DE PLASTICOS==\n");
	do{
		printf("\nMENU PRINCIPAL\n");
		printf("\n1- Alta de clientes"
			   "\n2- Modificar datos de cliente"
			   "\n3- Baja de cliente"
			   "\n4- Crear pedido de recoleccion"
			   "\n5- Procesar residuos"
			   "\n6- Imprimir clientes"
			   "\n7- Imprimir pedidos pendientes"
			   "\n8- Imprimir pedidos procesados"
			   "\n9- Pedidos pendientes por localidad"
			   "\n10- Promedio de polipropileno reciclado por cliente"
			   "\n\n11- Salir\n");

		ObtenerEntero(&opcion, "\nIngrese una opcion del menu: ",
				"\nError. La opcion no esta dentro del menu", 1, 11, 1);

		switch(opcion)
		{
			case 1:
				if(AltaDeCliente(clientes, CANT_CLIENTES,&idClientes) == -1)
				{
					printf("\nNo se pudo realizar el alta del cliente\n");
				}
			break;

			case 2:
				if(ModificacionDatosDeUnCliente(clientes, CANT_CLIENTES)==-1)
				{
					printf("\nNo se modifico la informacion de ningun cliente\n");
				}
				break;

			case 3:
				if(BajaDeCliente(clientes, CANT_CLIENTES)==-1)
				{
					printf("\nNingun cliente fue dado de baja\n");
				}
				break;

			case 4:
				if(AltaPedidoDeRecoleccion(clientes, CANT_CLIENTES, pedidos, CANT_PEDIDOS, &idPedidos)==-1)
				{
					printf("\nNo se pudo realizar el alta de pedido\n");
				}
				break;

			case 5:
				if(ProcesarResiduos(pedidos, CANT_PEDIDOS, clientes, CANT_CLIENTES) == -1)
				{
					printf("\nLos residuos no fueron procesados");
				}
				break;

			case 6:
				if(ListadoClientesConSusPedidosPendientes(clientes, CANT_CLIENTES, pedidos, CANT_PEDIDOS)==-1)
				{
					printf("\nEl conteo no pudo realizarse");
				}
				break;

			case 7:
				printf("\nopcion 7");
				break;

			case 8:
				printf("\nopcion 8");
				break;

			case 9:
				printf("\nopcion 9");
				break;

			case 10:
				printf("\nopcion 10");
				break;

			case 11:
				printf("\nUsted salio del programa");
				break;

		}

	}while(opcion != 11);


	return EXIT_SUCCESS;
}
